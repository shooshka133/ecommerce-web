# Setup Guide

This guide walks you from a fresh clone to a fully functional ecommerce environment backed by Supabase and Stripe (test mode).

---

## 1. Install Dependencies

```bash
npm install
```

This also sets up the TypeScript seed tooling (`tsx`) and Supabase client.

---

## 2. Configure Environment Variables

Copy `.env.example` to `.env` and fill in the placeholders:

```
VITE_SUPABASE_URL=...
VITE_SUPABASE_ANON_KEY=...
SUPABASE_SERVICE_ROLE_KEY=...
STRIPE_SECRET_KEY=...
STRIPE_WEBHOOK_SECRET=...
```

- `VITE_SUPABASE_*` â€“ project URL + anon key (client access).
- `SUPABASE_SERVICE_ROLE_KEY` â€“ **never** expose in the browser; only used by seed script & Edge Functions.
- `STRIPE_SECRET_KEY` â€“ Stripe test secret (`sk_test_*`).
- `STRIPE_WEBHOOK_SECRET` â€“ Generated by Stripe when you configure the webhook.

---

## 3. Provision Supabase

1. Create a Supabase project (free tier works).
2. In the SQL editor run the contents of `supabase/schema.sql`.
   - Tables: `profiles`, `products`, `cart_items`, `orders`, `order_items`
   - Row-level security policies for safe multi-tenant access
3. Optional: verify tables exist under the public schema.

---

## 4. Seed Product Catalog

Run the idempotent seed script (requires service role key):

```bash
npm run supabase:seed
```

The script imports `seedProducts` from `src/data/products.ts` and inserts them if the table is empty.

---

## 5. Deploy Supabase Edge Functions

Install the Supabase CLI and authenticate (`supabase login`) if you haven't already.

```bash
supabase functions deploy create-checkout-session
supabase functions deploy webhook
```

Set the required secrets (example):

```bash
supabase secrets set --env-file .env \
  --project-ref <your-project-ref> \
  --watch
```

Ensure `STRIPE_SECRET_KEY`, `STRIPE_WEBHOOK_SECRET`, `SUPABASE_SERVICE_ROLE_KEY`, and `SUPABASE_URL` are available to the functions.

---

## 6. Configure Stripe (Test Mode)

1. Create/enable a Stripe test mode account.
2. Add a webhook endpoint pointing to your deployed function:  
   `https://<project>.supabase.co/functions/v1/webhook`
3. Select the `checkout.session.completed` event.
4. Copy the signing secret into `STRIPE_WEBHOOK_SECRET`.

Use Stripe test cards (e.g., `4242 4242 4242 4242`, any future expiry, any CVC, any ZIP) to validate flows.

---

## 7. Run the App Locally

```bash
npm run dev
```

Visit `http://localhost:5173`. Create an account (email/password or Google) and start testing:

1. Add products to the cart (requires authentication to persist).
2. Click checkout â†’ Supabase Edge Function returns Stripe Checkout URL.
3. Complete payment in Stripe â†’ webhook updates orders, clears cart.
4. Navigate to `/orders` to confirm the new order appears.

---

## Troubleshooting Checklist

| Issue | Fix |
| --- | --- |
| Products page empty | Run `npm run supabase:seed`; verify `products` table RLS allows public select. |
| Cart operations fail | Confirm Supabase URL/keys are correct and user is authenticated. |
| Stripe checkout returns 500 | Ensure Edge Function secrets are set (`STRIPE_SECRET_KEY`, `SUPABASE_SERVICE_ROLE_KEY`). |
| Webhook 400 errors | Recreate the Stripe webhook with the correct endpoint & signing secret. |
| OAuth redirect mismatch | Add your local URL to Supabase â†’ Authentication â†’ URL Configuration. |

---

## Useful Commands

```bash
npm run dev           # Start Vite dev server
npm run build         # Type-check and build production bundle
npm run lint          # ESLint
npm run supabase:seed # Seed database (safe to re-run)
```

---

Happy building!
# Setup Guide

## Quick Start

1. **Install Dependencies**
   ```bash
   npm install
   ```

2. **Start Development Server**
   ```bash
   npm run dev
   ```

3. **Open Browser**
   Navigate to `http://localhost:5173`

## Project Features

### âœ… Completed Features

- [x] React + TypeScript + TailwindCSS setup
- [x] React Router DOM routing
- [x] Zustand store for cart management
- [x] Dark mode toggle with persistence
- [x] All pages (Home, Shop, Product Details, Cart, Checkout, Login/Register, Contact)
- [x] All components (Navbar, Footer, Hero, ProductCard, ProductGrid, Button, Card)
- [x] Framer Motion animations
- [x] SEO meta tags
- [x] Responsive design (mobile-first)
- [x] Dummy product data with placeholder images
- [x] Cart functionality (add, remove, update quantity)
- [x] Product filtering and search

### ðŸ”„ Ready for Integration

- [ ] Stripe Checkout integration (Checkout page ready)
- [ ] Supabase Auth integration (Login/Register pages ready)
- [ ] Backend API integration
- [ ] Image upload functionality

## File Structure

```
src/
  components/      # Reusable UI components
  pages/          # Page components
  store/          # Zustand store for state management
  types/          # TypeScript type definitions
  data/           # Dummy product data
  styles/         # Global styles
  hooks/          # Custom hooks (for future use)
  assets/         # Static assets
```

## Key Files

- `src/App.tsx` - Main app component with routing
- `src/store/useStore.ts` - Zustand store for cart and dark mode
- `src/data/products.ts` - Dummy product data
- `src/components/` - All reusable components
- `src/pages/` - All page components

## Color Theme

- Primary: #2563EB (Blue)
- Secondary: #FACC15 (Yellow)
- Background: #F9FAFB (Light Gray)
- Text Primary: #111827 (Dark Gray)
- Text Secondary: #6B7280 (Medium Gray)
- Success: #16A34A (Green)
- Error: #DC2626 (Red)
- Border: #E5E7EB (Light Gray)

## Next Steps

1. Install dependencies: `npm install`
2. Start development server: `npm run dev`
3. Test all features
4. Integrate Stripe Checkout
5. Integrate Supabase Auth
6. Add backend API
7. Deploy to production

## Troubleshooting

If you encounter any issues:

1. Make sure Node.js version is 18 or higher
2. Delete `node_modules` and `package-lock.json`, then run `npm install` again
3. Check that all dependencies are installed correctly
4. Verify that the Vite dev server is running on port 5173

